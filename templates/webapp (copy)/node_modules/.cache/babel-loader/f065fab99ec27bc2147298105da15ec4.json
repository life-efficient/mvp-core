{"ast":null,"code":"var _jsxFileName = \"/home/ice/supermedia/webapp/src/stylistComponents/UserInfo.js\";\nimport React, { Component } from \"react\";\nimport { makeGetRequest } from \"../api_calls\";\nimport queryString from \"query-string\";\nimport \"../adminComponents/UserInfo.css\";\n\nclass UserInfo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getLikedImages = () => {\n      if (!this.props.user) return null;\n      var data = this.props.user;\n      console.log('setting user:', this.props.user);\n      var liked_images = data.swipe_responses ? data.swipe_responses.filter(item => {\n        return item.response == 'yes';\n      }) : [];\n      liked_images = liked_images.map(item => {\n        return React.createElement(\"img\", {\n          className: \"liked-img\",\n          src: item.img_id,\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        });\n      });\n      liked_images = React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Liked images\"), liked_images, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }));\n      return liked_images;\n    };\n\n    this.getBasicInfo = () => {\n      if (!this.props.user) return null;\n      var data = this.props.user;\n      console.log('USER INFO:', data);\n      var body = [];\n      var keys = ['name', 'location', 'instagram', 'gender', 'acq_channel', 'price_range', 'referral', 'last_served', 'size', 'styles', 'brands'];\n      keys = keys.filter(key => {\n        return Object.keys(data).includes(key);\n      });\n      console.log(keys);\n\n      for (var key of keys) {\n        var value = data[key];\n\n        if (typeof value == 'string') {\n          body.push(React.createElement(\"div\", {\n            className: \"basic-info-elem\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, key, \":\"), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, value)));\n        }\n\n        if (typeof value == 'object') {\n          if (['size'].includes(key)) {\n            body.push(React.createElement(\"div\", {\n              className: \"medium\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 64\n              },\n              __self: this\n            }, key));\n            Object.keys(value).map(k => {\n              var _k;\n\n              if (k == 'heightMajor') {\n                _k = 'Ft';\n              } else if (k == 'heightMinor') {\n                _k = 'Inches';\n              } else if (k == 'metric') {\n                return null;\n              } else {\n                _k = k;\n              }\n\n              body.push(React.createElement(\"div\", {\n                className: \"basic-info-elem\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 72\n                },\n                __self: this\n              }, React.createElement(\"div\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 73\n                },\n                __self: this\n              }, _k, \":\"), React.createElement(\"div\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 74\n                },\n                __self: this\n              }, value[k])));\n            });\n            body.push(React.createElement(\"br\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 79\n              },\n              __self: this\n            }));\n          }\n        }\n\n        console.log('key:', key);\n        console.log('typeof:', typeof value);\n        console.log(value);\n\n        if (Array.isArray(value)) {\n          if (value.length > 0) {\n            console.log('adding array:', key);\n            body.push(React.createElement(\"div\", {\n              className: \"medium\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 88\n              },\n              __self: this\n            }, key));\n            var tags = [];\n            value.map(item => {\n              tags.push(React.createElement(\"div\", {\n                className: \"tag\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 93\n                },\n                __self: this\n              }, item));\n            });\n            body.push(React.createElement(React.Fragment, null, React.createElement(\"div\", {\n              className: \"tags\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 100\n              },\n              __self: this\n            }, tags), React.createElement(\"br\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 100\n              },\n              __self: this\n            })));\n          }\n        }\n      }\n\n      console.log(body);\n      return body;\n    };\n\n    this.getRequests = () => {\n      if (!this.props.user) return null;\n      return this.props.user.requests ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Latest requests\"), this.props.user.requests.map(req => {\n        return req.request;\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })) : null;\n    };\n\n    var loc = window.location.search;\n    var params = queryString.parse(loc);\n    var sub = params.sub;\n    this.state = {\n      user_id: sub,\n      user: null,\n      liked_images: null // this.getUserInfo()\n      // this.getUserRequests()\n      //this.getLikedImages()\n\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"userInfo panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"User Info\"), React.createElement(\"div\", {\n      className: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Basic info\")), React.createElement(\"div\", {\n      className: \"basic-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, this.getBasicInfo()), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, this.getRequests())), React.createElement(\"div\", {\n      className: \"liked-imgs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, this.getLikedImages()));\n  }\n\n}\n\nexport default UserInfo; // import React, { Component } from \"react\"\n// import {makeGetRequest} from \"../api_calls\"\n// import queryString from \"query-string\"\n// import \"../adminComponents/UserInfo.css\"\n// class UserInfo extends Component {\n//     constructor(props) {\n//         super(props)\n//         var loc = window.location.search\n//         var params = queryString.parse(loc)\n//         var sub = params.sub\n//         this.state = {\n//             user_id: sub,\n//             user: null,\n//             liked_images: null,\n//             requests: null\n//         }\n//         this.getBasicInfo()\n//         // this.getLikedImages()\n//     }\n//     getBasicInfo = () => {\n//         if (!this.props.user) return null;\n//         var data = this.props.user\n//         console.log('USER INFO:', data)\n//         var body = []\n//         var keys = ['name', 'location', 'instagram', 'gender', 'acq_channel', 'price_range', 'referral', 'last_served', 'size', 'styles']\n//         keys = keys.filter((key) => {return Object.keys(data).includes(key)})\n//         console.log(keys)\n//         for (var key of keys) {\n//             var value = data[key]\n//             if (typeof(value) == 'string'){\n//                 body.push(<div className=\"basic-info-elem\">\n//                         <div>{key}:</div>\n//                         <div>{value}</div>\n//                     </div>\n//                 )\n//             }\n//             if (typeof(value) == 'object'){\n//                 if (['size'].includes(key)) {\n//                     body.push(<strong>{key}</strong>)\n//                     Object.keys(value).map(\n//                         (k) => {\n//                             var _k\n//                             if (k == 'heightMajor') {_k = 'Ft'}\n//                             else if (k == 'heightMinor') {_k = 'Inches'}\n//                             else if (k == 'metric') {return null}\n//                             else {_k = k}\n//                             body.push(<div className=\"basic-info-elem\">\n//                                     <div>{_k}:</div>\n//                                     <div>{value[k]}</div>\n//                                 </div>\n//                             )\n//                         }\n//                     )\n//                     body.push(<br/>)\n//                 }\n//             }\n//             if (typeof(value) == 'array') {\n//             }\n//         }\n//         console.log(body)\n//         return body\n//     }\n//     // getUserInfo = () => {\n//     //     console.log(this.props.user)\n//     //     // makeGetRequest(`admin-user-info?user_id=${this.state.user_id}`, \n//     //     //     (data) => {\n//     //     //         console.log('USER INFO:', data)\n//     //     var user = this.props.user\n//     //     // LIKED IMGS\n//     //     var liked_images = user.swipe_responses ?\n//     //     user.swipe_responses.filter(\n//     //         (item) => {\n//     //             return item.response == 'yes'\n//     //         }\n//     //     ) :\n//     //     []\n//     //     liked_images = liked_images.map(\n//     //         (item) => {\n//     //             return <img className=\"liked-img\" src={item.img_id} alt=\"\" />\n//     //         }\n//     //     )\n//     //     // BASIC INFO\n//     //     var body = []\n//     //     for (let [key, value] of Object.entries(this.props.user)) {\n//     //         if (typeof(value) == 'string'){\n//     //             body.push(<div className=\"basic-info-elem\">\n//     //                     <div>{key}:</div>\n//     //                     <div>{value}</div>\n//     //                 </div>\n//     //             )\n//     //         }\n//     //     }\n//     //     console.log(body)\n//     //     // REQUESTS\n//     //     var requests = user.requests ? user.requests : []\n//     //     requests = requests.map(\n//     //         (req) => {\n//     //             return <div>{req.request}</div>\n//     //         }\n//     //     )\n//     //     this.state = {\n//     //         user_info: body,\n//     //         liked_images,\n//     //         requests\n//     //     }   \n//     //     //     }\n//     //     // )\n//     // }\n//     // getUserRequests = () => {\n//     //     console.log('GETTING REQUESTS')\n//     //     makeGetRequest(`stylist-user-requests?user_id=${this.state.user_id}`,\n//     //         (resp) => {\n//     //             console.log('REQUESTS:', resp)\n//     //             resp = resp.map(\n//     //                 (item, idx) => {\n//     //                     return <div>{item}</div>\n//     //                 }\n//     //             )\n//     //             this.setState({requests: resp})\n//     //         }\n//     //     )\n//     // }\n//     // getLikedImages = () => {\n//     //     makeGetRequest(`like-product?user_sub=${this.state.user_id}`, \n//     //         (data) => {\n//     //             console.log('LIKED IMAGES:', data)\n//     //             this.setState({\n//     //                 liked_images: data.map(\n//     //                     (img) => {return <img className=\"liked-img\" src={img.img_id}/>}\n//     //                 )\n//     //             })\n//     //         }\n//     //     )\n//     // }\n//     render() {\n//         console.log(this.state.user_info)\n//         return (\n//             <div className=\"userInfo panel\">\n//                 <div className=\"medium\">User Info</div>\n//                 <div className=\"small\"><strong>Basic info</strong></div>\n//                 <div className=\"basic-info\">\n//                     {this.state.user_info}\n//                 </div>\n//                 <div className=\"small\"><strong>Requests</strong></div>\n//                 <div className=\"basic-info\">\n//                     {this.state.requests}\n//                 </div>\n//                 <div className=\"small\"><strong>Liked images</strong></div>\n//                 <div className=\"liked-imgs\">\n//                     {this.state.liked_images}\n//                 </div>\n//             </div>\n//         )\n//     }\n// }\n// export default UserInfo","map":{"version":3,"sources":["/home/ice/supermedia/webapp/src/stylistComponents/UserInfo.js"],"names":["React","Component","makeGetRequest","queryString","UserInfo","constructor","props","getLikedImages","user","data","console","log","liked_images","swipe_responses","filter","item","response","map","img_id","getBasicInfo","body","keys","key","Object","includes","value","push","k","_k","Array","isArray","length","tags","getRequests","requests","req","request","loc","window","location","search","params","parse","sub","state","user_id","render"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, { Component } from \"react\"\nimport {makeGetRequest} from \"../api_calls\"\nimport queryString from \"query-string\"\nimport \"../adminComponents/UserInfo.css\"\n\nclass UserInfo extends Component {\n    constructor(props) {\n        super(props)\n        var loc = window.location.search\n        var params = queryString.parse(loc)\n        var sub = params.sub\n        this.state = {\n            user_id: sub,\n            user: null,\n            liked_images: null\n        }\n        // this.getUserInfo()\n        // this.getUserRequests()\n        //this.getLikedImages()\n    }\n\n    getLikedImages = () => {\n        if (!this.props.user) return null;\n        var data = this.props.user\n        console.log('setting user:', this.props.user)\n        var liked_images = data.swipe_responses ? \n            data.swipe_responses.filter(\n                (item) => {\n                    return item.response == 'yes'\n                }\n            )\n            :\n            []\n\n        liked_images = liked_images.map(\n            (item) => {\n                return <img className=\"liked-img\" src={item.img_id} alt=\"\" />\n            }\n        )\n        liked_images = <><div className=\"medium\">Liked images</div>{liked_images}<br/></>\n                \n        return liked_images\n    }\n    \n    getBasicInfo = () => {\n        if (!this.props.user) return null;\n        var data = this.props.user\n        console.log('USER INFO:', data)\n        var body = []\n        var keys = ['name', 'location', 'instagram', 'gender', 'acq_channel', 'price_range', 'referral', 'last_served', 'size', 'styles', 'brands']\n        keys = keys.filter((key) => {return Object.keys(data).includes(key)})\n        console.log(keys)\n        for (var key of keys) {\n            var value = data[key]\n            if (typeof(value) == 'string'){\n                body.push(<div className=\"basic-info-elem\">\n                        <div>{key}:</div>\n                        <div>{value}</div>\n                    </div>\n                )\n            }\n            if (typeof(value) == 'object'){\n                if (['size'].includes(key)) {\n                    body.push(<div className=\"medium\">{key}</div>)\n                    Object.keys(value).map(\n                        (k) => {\n                            var _k\n                            if (k == 'heightMajor') {_k = 'Ft'}\n                            else if (k == 'heightMinor') {_k = 'Inches'}\n                            else if (k == 'metric') {return null}\n                            else {_k = k}\n                            body.push(<div className=\"basic-info-elem\">\n                                    <div>{_k}:</div>\n                                    <div>{value[k]}</div>\n                                </div>\n                            )\n                        }\n                    )\n                    body.push(<br/>)\n                }\n            }\n            console.log('key:', key)\n            console.log('typeof:', typeof(value))\n            console.log(value)\n            if (Array.isArray(value)) {\n                if (value.length > 0) {\n                    console.log('adding array:', key)\n                    body.push(<div className=\"medium\">{key}</div>)\n                    var tags = []\n                    value.map(\n                        (item) => {\n                            tags.push(\n                                <div className=\"tag\">\n\n                                {item}\n                                </div>\n                            )\n                        }\n                    )\n                    body.push(<><div className=\"tags\">{tags}</div><br/></>)\n                }\n            }\n        }\n        console.log(body)\n        return body\n    }\n\n    getRequests = () => {\n        if (!this.props.user) return null;\n        return this.props.user.requests ?\n            <>\n            <div className=\"medium\">Latest requests</div>\n            {\n                this.props.user.requests.map(\n                    (req) => {\n                        return req.request\n                    }\n                )\n            }\n            <br/>\n            <br/>\n            </>\n            :\n            null\n    }\n\n    render() {\n        return (\n            <div className=\"userInfo panel\">\n                <div className=\"medium\">User Info</div>\n                <div className=\"small\"><strong>Basic info</strong></div>\n                <div className=\"basic-info\">\n                    {this.getBasicInfo()}\n                </div>\n                <div>\n                    <div>\n                        {this.getRequests()}\n                    </div>\n                </div>\n                <div className=\"liked-imgs\">\n                    {this.getLikedImages()}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default UserInfo\n\n// import React, { Component } from \"react\"\n// import {makeGetRequest} from \"../api_calls\"\n// import queryString from \"query-string\"\n// import \"../adminComponents/UserInfo.css\"\n\n// class UserInfo extends Component {\n//     constructor(props) {\n//         super(props)\n//         var loc = window.location.search\n//         var params = queryString.parse(loc)\n//         var sub = params.sub\n//         this.state = {\n//             user_id: sub,\n//             user: null,\n//             liked_images: null,\n//             requests: null\n//         }\n//         this.getBasicInfo()\n//         // this.getLikedImages()\n//     }\n\n//     getBasicInfo = () => {\n//         if (!this.props.user) return null;\n//         var data = this.props.user\n//         console.log('USER INFO:', data)\n//         var body = []\n//         var keys = ['name', 'location', 'instagram', 'gender', 'acq_channel', 'price_range', 'referral', 'last_served', 'size', 'styles']\n//         keys = keys.filter((key) => {return Object.keys(data).includes(key)})\n//         console.log(keys)\n//         for (var key of keys) {\n//             var value = data[key]\n//             if (typeof(value) == 'string'){\n//                 body.push(<div className=\"basic-info-elem\">\n//                         <div>{key}:</div>\n//                         <div>{value}</div>\n//                     </div>\n//                 )\n//             }\n//             if (typeof(value) == 'object'){\n//                 if (['size'].includes(key)) {\n//                     body.push(<strong>{key}</strong>)\n//                     Object.keys(value).map(\n//                         (k) => {\n//                             var _k\n//                             if (k == 'heightMajor') {_k = 'Ft'}\n//                             else if (k == 'heightMinor') {_k = 'Inches'}\n//                             else if (k == 'metric') {return null}\n//                             else {_k = k}\n//                             body.push(<div className=\"basic-info-elem\">\n//                                     <div>{_k}:</div>\n//                                     <div>{value[k]}</div>\n//                                 </div>\n//                             )\n//                         }\n//                     )\n//                     body.push(<br/>)\n//                 }\n//             }\n//             if (typeof(value) == 'array') {\n                \n//             }\n//         }\n//         console.log(body)\n//         return body\n//     }\n\n//     // getUserInfo = () => {\n//     //     console.log(this.props.user)\n//     //     // makeGetRequest(`admin-user-info?user_id=${this.state.user_id}`, \n//     //     //     (data) => {\n//     //     //         console.log('USER INFO:', data)\n//     //     var user = this.props.user\n\n//     //     // LIKED IMGS\n//     //     var liked_images = user.swipe_responses ?\n//     //     user.swipe_responses.filter(\n//     //         (item) => {\n//     //             return item.response == 'yes'\n//     //         }\n//     //     ) :\n//     //     []\n//     //     liked_images = liked_images.map(\n//     //         (item) => {\n//     //             return <img className=\"liked-img\" src={item.img_id} alt=\"\" />\n//     //         }\n//     //     )\n\n//     //     // BASIC INFO\n//     //     var body = []\n//     //     for (let [key, value] of Object.entries(this.props.user)) {\n//     //         if (typeof(value) == 'string'){\n//     //             body.push(<div className=\"basic-info-elem\">\n//     //                     <div>{key}:</div>\n//     //                     <div>{value}</div>\n//     //                 </div>\n//     //             )\n//     //         }\n//     //     }\n//     //     console.log(body)\n\n//     //     // REQUESTS\n//     //     var requests = user.requests ? user.requests : []\n//     //     requests = requests.map(\n//     //         (req) => {\n//     //             return <div>{req.request}</div>\n//     //         }\n//     //     )\n\n//     //     this.state = {\n//     //         user_info: body,\n//     //         liked_images,\n//     //         requests\n//     //     }   \n//     //     //     }\n//     //     // )\n//     // }\n\n//     // getUserRequests = () => {\n//     //     console.log('GETTING REQUESTS')\n//     //     makeGetRequest(`stylist-user-requests?user_id=${this.state.user_id}`,\n//     //         (resp) => {\n//     //             console.log('REQUESTS:', resp)\n//     //             resp = resp.map(\n//     //                 (item, idx) => {\n//     //                     return <div>{item}</div>\n//     //                 }\n//     //             )\n//     //             this.setState({requests: resp})\n//     //         }\n//     //     )\n//     // }\n\n//     // getLikedImages = () => {\n//     //     makeGetRequest(`like-product?user_sub=${this.state.user_id}`, \n//     //         (data) => {\n//     //             console.log('LIKED IMAGES:', data)\n//     //             this.setState({\n//     //                 liked_images: data.map(\n//     //                     (img) => {return <img className=\"liked-img\" src={img.img_id}/>}\n//     //                 )\n//     //             })\n//     //         }\n//     //     )\n//     // }\n\n//     render() {\n//         console.log(this.state.user_info)\n//         return (\n//             <div className=\"userInfo panel\">\n//                 <div className=\"medium\">User Info</div>\n//                 <div className=\"small\"><strong>Basic info</strong></div>\n//                 <div className=\"basic-info\">\n//                     {this.state.user_info}\n//                 </div>\n//                 <div className=\"small\"><strong>Requests</strong></div>\n//                 <div className=\"basic-info\">\n//                     {this.state.requests}\n//                 </div>\n//                 <div className=\"small\"><strong>Liked images</strong></div>\n//                 <div className=\"liked-imgs\">\n//                     {this.state.liked_images}\n//                 </div>\n//             </div>\n//         )\n//     }\n// }\n\n// export default UserInfo"]},"metadata":{},"sourceType":"module"}