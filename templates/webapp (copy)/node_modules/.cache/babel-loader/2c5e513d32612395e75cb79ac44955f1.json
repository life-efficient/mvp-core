{"ast":null,"code":"var _jsxFileName = \"/home/ice/test/test/src/components/Signup.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { makePostRequest } from \"../api_calls\";\nimport Swiping from \"./Swiping\";\nimport \"./Signup.css\";\nimport { Redirect } from \"react-router-dom\";\nimport { Auth } from \"aws-amplify\";\nimport back from \"../images/icons/arrow.png\";\nimport Dropdown from \"../general/form_components/Dropdown\";\nimport queryString from \"query-string\";\nimport Sizing from \"./Sizing\";\nimport NewRequest from \"./NewRequest\";\nimport Style from \"./Style\";\nimport { resolve } from \"dns\";\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      var val = event.target.id;\n      var key = event.target.value;\n      this.setState({\n        [val]: key\n      }, () => {\n        console.log(this.state);\n      });\n    };\n\n    this.handleNumChange = (num, isValid) => {\n      this.setState({\n        phone_number: num,\n        num_is_valid: isValid\n      }, () => {\n        console.log('new num:', this.state.phone_number);\n        console.log('is it valid?', this.state.num_is_valid);\n      });\n    };\n\n    this.handleOptionChange = event => {\n      window.analytics.track('option selected');\n      this.setState({\n        [event.target.name]: event.target.value\n      }, () => {\n        console.log(this.state);\n      });\n    };\n\n    this.nextPage = () => {\n      window.analytics.track('Sign up button clicked');\n      console.log('going to next slide');\n      var slide = this.state.slide;\n\n      if (slide == 0) {\n        slide += 1;\n      }\n\n      slide += 1;\n      this.setState({\n        slide\n      }, () => {\n        console.log(this.state);\n      } //     () => {history.push(`/?t=${this.state.slide}`)}\n      );\n      console.log(this.state.gender);\n    };\n\n    this.prevPage = () => {\n      var slide = this.state.slide;\n\n      if (slide == 2) {\n        slide -= 1;\n      }\n\n      slide -= 1;\n      this.setState({\n        slide\n      });\n      this.setState({\n        slide\n      }, () => {\n        console.log(this.state);\n      } //     () => {history.push(`/?t=${this.state.slide}`)}\n      );\n    };\n\n    this.goToApp = () => {\n      console.log('going to app');\n    };\n\n    this.checkValidInstagram = () => {\n      return new Promise((resolve, reject) => {\n        fetch(\"https://www.instagram.com/\".concat(this.state.instagram, \"/\")).then(data => {\n          // console.log(data)\n          // data = data.body\n          console.log(data);\n          data = data.text().then(data => {\n            console.log(data);\n            console.log(typeof data);\n            var found_page = !data.includes('Page Not Found');\n            console.log(found_page);\n            resolve(found_page);\n          });\n        }).catch(err => {\n          console.log(err);\n          reject(err);\n        });\n      });\n    };\n\n    this.signUp = async () => {\n      window.analytics.track('Submit signup button clicked');\n\n      try {\n        var foundpage = await this.checkValidInstagram();\n      } catch (err) {\n        console.log(err);\n        return;\n      }\n\n      if (!foundpage) {\n        this.setState({\n          invalid_instagram: true\n        });\n        setTimeout(() => {\n          this.setState({\n            invalid_instagram: false\n          });\n        }, 2000);\n        return;\n      }\n\n      this.nextPage();\n      console.log('submitting');\n      var username = this.state[this.state.contact_method];\n      var password = this.makeid(8);\n      this.setState({\n        password: password\n      });\n      Auth.signUp(username, password).then(() => {\n        console.log('Signing in');\n        Auth.signIn(username, password).then(data => {\n          this.props.dispatchLogin();\n          console.log('Getting session');\n          console.log('cognito response after sign in:', data);\n          makePostRequest('sign-up', this.state, () => {\n            console.log('signed up');\n            window.analytics.track('User signed up');\n          });\n        }, err => {\n          console.log('AN ERROR OCCURED WHILST SIGNING IN');\n          console.log(err);\n          this.handleErrors(err);\n        });\n      }, err => {\n        console.log('AN ERROR OCCURED WHILST SIGNING UP');\n        console.log(err);\n        this.handleErrors(err);\n      });\n    };\n\n    this.handleErrors = err => {\n      if (err.name == 'UsernameExistsException') {\n        this.setState({\n          redirect: '/login'\n        });\n      }\n    };\n\n    this.updateDetails = () => {\n      this.nextPage();\n      this.props.setUserInfo(this.state);\n    };\n\n    this.getSlides = () => {\n      console.log(this.state.num_is_valid && this.state.name);\n      var contactTarget = this.state.contact_method == 'instagram' ? this.state.instagram : this.state.phone_number;\n      console.log('TARGET:', contactTarget);\n      var signupValid = this.state.name && contactTarget != '';\n      var slides = [React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rolling-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"large\",\n        id: \"first-title\",\n        style: {\n          opacity: this.state.slide >= 6 ? 0 : 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"MEET ADLA\"), React.createElement(\"div\", {\n        className: \"rolling medium rolling1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Your free personal stylist over Instagram DM\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        onClick: this.nextPage,\n        className: \"btn first-btn\",\n        id: \"lets-do-this\",\n        style: {\n          fontSize: \"22px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"shine-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"shine\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      })), \"GET CLOTHES!\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }) // this is where the sliding elements are\n      , React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"signup-bar\",\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"back back_slide\",\n        src: back,\n        onClick: this.prevPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"field-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"input\", {\n        className: \"text-response\",\n        id: \"name\",\n        value: this.state.name,\n        onChange: this.handleChange,\n        placeholder: \"What can I call you?\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"field-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, // this.state.contact_method == 'instagram' ?\n      React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"field-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, \"Instagram\"), React.createElement(\"input\", {\n        className: this.state.invalid_instagram ? \"invalid-input text-response\" : \"text-response\",\n        id: \"instagram\",\n        value: this.state.instagram,\n        onChange: this.handleChange,\n        placeholder: \"yourusername\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      })) // :\n      // <>\n      // <div className=\"field-title\">\n      //     Number\n      // </div>\n      // <TelephoneInput value={this.state.phone_number} onChange={this.handleNumChange}/>\n      // <div className=\"field-caption\" onClick={() => {this.setState({contact_method: 'instagram'})}}>\n      //     Use instagram\n      // </div>\n      // </>\n      ), React.createElement(\"button\", {\n        onClick: this.signUp,\n        disabled: !signupValid,\n        style: signupValid ? null : {\n          opacity: \"0.5\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \"Submit\"))), React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"back back_slide\",\n        src: back,\n        onClick: this.prevPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"field-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, \"Gender\"), React.createElement(Dropdown, {\n        onChange: this.handleOptionChange,\n        id: \"gender\",\n        value: this.state.gender,\n        prompt: \"Select one\",\n        name: \"gender\",\n        options: ['Male', 'Female', 'Other'],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"field-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, \"City\"), React.createElement(Dropdown, {\n        onChange: this.handleOptionChange,\n        id: \"location\",\n        value: this.state.location,\n        prompt: \"Where you at?\",\n        name: \"location\",\n        options: ['London', 'Other'],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        onClick: () => {\n          this.updateDetails();\n          this.setState({\n            swipe_ready: true\n          });\n        },\n        disabled: !(this.state.location && this.state.gender),\n        style: this.state.location && this.state.gender ? null : {\n          opacity: \"0.5\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, \"Next\"))), React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, \"Do you have a referral code?\"), React.createElement(\"input\", {\n        className: \"text-response\",\n        id: \"referral\",\n        value: this.state.referral,\n        onChange: this.handleChange,\n        placeholder: \"Got code?\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        onClick: this.updateDetails,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, this.state.referral == '' ? 'Nope' : 'Submit'))), React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field-container long-field-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field-title \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, \"How much would you pay for an item you love?\"), React.createElement(Dropdown, {\n        onChange: this.handleOptionChange,\n        id: \"price_range\",\n        value: this.state.price_range,\n        prompt: \"What's your budget?\",\n        name: \"price_range\",\n        options: [40, 80, 120, 200, 1000],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"field-container long-field-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"field-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, \"Where did you hear about Adla?\"), React.createElement(Dropdown, {\n        onChange: this.handleOptionChange,\n        id: \"acq_channel\",\n        value: this.state.acq_channel,\n        prompt: \"Let me know!\",\n        name: \"acq_channel\",\n        options: ['Friend', 'Google', 'Instagram', 'Tinder', 'Other'],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        onClick: this.updateDetails,\n        disabled: !(this.state.price_range && this.state.acq_channel),\n        style: this.state.num_is_valid && this.state.name ? null : {\n          opacity: \"0.5\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, \"Submit\"))), React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"back back_slide\",\n        src: back,\n        onClick: this.prevPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }), React.createElement(Swiping, {\n        gender: this.state.gender,\n        ready: this.state.swipe_ready,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn\",\n        onClick: this.nextPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, \"Move on\"))), React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"back back_slide\",\n        src: back,\n        onClick: this.prevPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }), React.createElement(NewRequest, {\n        not_now: this.nextPage,\n        onSubmit: this.nextPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }))), React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"back back_slide\",\n        src: back,\n        onClick: this.prevPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      }), React.createElement(Style, {\n        onSubmit: this.nextPage,\n        onSubmit: this.nextPage,\n        styles: this.props.user.styles ? this.props.user.styles : [],\n        onChange: styles => {\n          this.props.setUserInfo({\n            styles\n          });\n        },\n        endpoint: 'update-my-details',\n        styles: this.props.user ? this.props.user : [],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn\",\n        onClick: this.nextPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, \"Move on\")), React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"back back_slide\",\n        src: back,\n        onClick: this.prevPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394\n        },\n        __self: this\n      }), React.createElement(Sizing, {\n        gender: this.state.gender,\n        onSubmit: this.nextPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395\n        },\n        __self: this\n      })))];\n\n      if (this.state.slide > slides.length - 1) {\n        return React.createElement(Redirect, {\n          to: '/app',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 400\n          },\n          __self: this\n        });\n      }\n\n      var slide_colors = ['#FDF5EA', '#FDF5EA', '#C6E0F5']; // TRANSLATE THE SLIDES ACROSS AS THE PAGE CHANGES\n\n      slides = slides.map((item, idx) => {\n        return (// <div className=\"slide\" style={{transform: `translateX(-${this.state.slide * (idx)}00vw)`}}>        \n          React.createElement(\"div\", {\n            className: \"slide\",\n            style: {\n              transform: \"translateX(-\".concat(100 * this.state.slide, \"vw)\"),\n              backgroundColor: slide_colors[0]\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 412\n            },\n            __self: this\n          }, item)\n        );\n      });\n      return slides;\n    };\n\n    var start_slide = 0;\n\n    if (this.props.slide != null) {\n      start_slide = this.props.slide;\n    }\n\n    var params = queryString.parse(window.location.search);\n    this.state = {\n      slide: start_slide,\n      name: '',\n      phone_number: '',\n      username: '',\n      contact_method: 'instagram',\n      location: '',\n      gender: '',\n      acq_channel: '',\n      password: '',\n      instagram: '',\n      referral: params.referral ? params.referral : '',\n      age: '',\n      price_range: '',\n      num_is_valid: false,\n      swipe_ready: false\n    };\n  }\n\n  makeid(length) {\n    var text = \"\";\n    var possible = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n\n    for (var i = 0; i < length; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n\n    ;\n    return text;\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: this.state.redirect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"fold\",\n      style: {\n        backgroundColor: '#FDF5EA'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"slide-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }, this.getSlides()));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log('SIGNUP USER:', state.user);\n  return {\n    user: state.user\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setUserInfo: update => {\n      makePostRequest('update-my-details', update, () => {\n        console.log('user updated');\n      });\n      dispatch({\n        type: \"SET_USER\",\n        update: update\n      });\n    },\n    dispatchLogin: () => {\n      dispatch({\n        type: \"LOG_IN\"\n      });\n    }\n  };\n};\n\nexport default Signup = connect(mapStateToProps, mapDispatchToProps)(Signup);","map":{"version":3,"sources":["/home/ice/test/test/src/components/Signup.js"],"names":["React","Component","connect","makePostRequest","Swiping","Redirect","Auth","back","Dropdown","queryString","Sizing","NewRequest","Style","resolve","Signup","constructor","props","handleChange","event","val","target","id","key","value","setState","console","log","state","handleNumChange","num","isValid","phone_number","num_is_valid","handleOptionChange","window","analytics","track","name","nextPage","slide","gender","prevPage","goToApp","checkValidInstagram","Promise","reject","fetch","instagram","then","data","text","found_page","includes","catch","err","signUp","foundpage","invalid_instagram","setTimeout","username","contact_method","password","makeid","signIn","dispatchLogin","handleErrors","redirect","updateDetails","setUserInfo","getSlides","contactTarget","signupValid","slides","opacity","fontSize","location","swipe_ready","referral","price_range","acq_channel","user","styles","length","slide_colors","map","item","idx","transform","backgroundColor","start_slide","params","parse","search","age","possible","i","charAt","Math","floor","random","render","mapStateToProps","mapDispatchToProps","dispatch","update","type"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { makePostRequest } from \"../api_calls\"\nimport Swiping from \"./Swiping\"\nimport \"./Signup.css\"\nimport {Redirect } from \"react-router-dom\"\nimport { Auth } from \"aws-amplify\"\nimport back from \"../images/icons/arrow.png\"\nimport Dropdown from \"../general/form_components/Dropdown\"\nimport queryString from \"query-string\"\nimport Sizing from \"./Sizing\"\nimport NewRequest from \"./NewRequest\"\nimport Style from \"./Style\"\nimport { resolve } from \"dns\";\n\nclass Signup extends Component {\n    constructor(props) {\n        super(props)\n        var start_slide = 0\n        if (this.props.slide != null) {\n            start_slide = this.props.slide\n        }\n\n        var params = queryString.parse(window.location.search)\n        this.state = {\n            slide: start_slide,\n            name: '',\n            phone_number: '',\n            username: '',\n            contact_method: 'instagram',\n            location: '',\n            gender: '',\n            acq_channel: '',\n            password: '',\n            instagram: '',\n            referral: params.referral ? params.referral : '',\n            age: '',\n            price_range: '',\n            num_is_valid: false,\n            swipe_ready: false\n        }\n    }\n\n    handleChange = (event) => {\n        var val = event.target.id\n        var key = event.target.value\n        this.setState({[val]: key},\n            () => {\n                console.log(this.state)\n            }    \n        );\n    }\n\n    handleNumChange = (num, isValid) => {\n        this.setState({\n            phone_number: num,\n            num_is_valid: isValid\n        },\n            () => {\n                console.log('new num:', this.state.phone_number)\n                console.log('is it valid?', this.state.num_is_valid)\n            }\n        )\n\n    }\n\n    handleOptionChange = (event) => {\n        window.analytics.track('option selected')\n        this.setState({[event.target.name]: event.target.value},\n            () => {\n                console.log(this.state)\n            }\n        )\n    }\n\n    nextPage = () => {\n        window.analytics.track('Sign up button clicked')\n        console.log('going to next slide')\n        var slide = this.state.slide\n        if (slide == 0) {slide +=1}\n        slide += 1\n        this.setState({slide}, () => {console.log(this.state)},\n        //     () => {history.push(`/?t=${this.state.slide}`)}\n        )\n        console.log(this.state.gender)\n    }\n\n    prevPage = () => {\n        var slide = this.state.slide\n        if (slide == 2) {slide -=1}\n        slide -= 1\n        this.setState({slide})\n        this.setState({slide}, () => {console.log(this.state)},\n        //     () => {history.push(`/?t=${this.state.slide}`)}\n        )\n    }\n\n    goToApp = () => {\n        console.log('going to app')\n    }\n\n    makeid(length) {\n        var text = \"\";\n        var possible = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n        for (var i = 0; i < length; i++) {\n            text += possible.charAt(Math.floor(Math.random() * possible.length))\n        };\n        return text;\n    }\n\n    checkValidInstagram = () => {\n        return new Promise(\n            (resolve, reject) => {\n                fetch(`https://www.instagram.com/${this.state.instagram}/`)\n                .then(\n                    (data) => {\n                        // console.log(data)\n                        // data = data.body\n                        console.log(data)\n                        data = data.text()\n                        .then(\n                            (data) => {\n                                console.log(data)\n                                console.log(typeof(data))\n                                var found_page = !data.includes('Page Not Found')\n                                console.log(found_page)\n                                resolve(found_page)\n                            }\n                        )\n                    }\n                )\n                .catch(\n                    (err) => {\n                        console.log(err)\n                        reject(err)\n                    }\n                )\n            }\n        )\n    }\n    \n    signUp = async () => {\n        window.analytics.track('Submit signup button clicked')\n        try {\n            var foundpage = await this.checkValidInstagram()\n        }\n        catch (err) {\n            console.log(err)\n            return\n        }\n        if (!foundpage) {\n            this.setState({invalid_instagram: true})\n            setTimeout(\n                () => {\n                    this.setState({invalid_instagram: false})\n                },\n                    2000\n            )\n            return\n        }\n        this.nextPage()\n        console.log('submitting')\n        var username = this.state[this.state.contact_method]\n        var password = this.makeid(8)\n        this.setState({\n            password: password\n        })\n        Auth.signUp(username, password)\n        .then(\n            () => {\n                console.log('Signing in')\n                Auth.signIn(username, password)\n                .then(\n                    data => {\n                        this.props.dispatchLogin()\n                        console.log('Getting session')\n                        console.log('cognito response after sign in:', data)\n                        makePostRequest('sign-up', this.state,\n                                () => {\n                                    console.log('signed up')\n                                    window.analytics.track('User signed up')\n                                }\n                            )\n                    },\n                    err => {\n                        console.log('AN ERROR OCCURED WHILST SIGNING IN')\n                        console.log(err)\n                        this.handleErrors(err)\n                    }\n                )\n            },\n            err => {\n                console.log('AN ERROR OCCURED WHILST SIGNING UP')\n                console.log(err)\n                this.handleErrors(err)\n            }\n        )\n    };\n\n    handleErrors = (err) => {\n        if (err.name == 'UsernameExistsException') {\n            this.setState({redirect: '/login'})\n        }\n    }\n\n    updateDetails = () => {\n        this.nextPage()\n        this.props.setUserInfo(this.state)\n    }\n\n    getSlides = () => {\n        console.log(this.state.num_is_valid && this.state.name)\n        var contactTarget = this.state.contact_method == 'instagram' ? this.state.instagram : this.state.phone_number\n        console.log('TARGET:', contactTarget)\n        var signupValid = this.state.name && contactTarget != ''\n        var slides = [\n            <React.Fragment>\n                <div className=\"rolling-container\">\n                <div className=\"large\" id=\"first-title\" style={{opacity: this.state.slide >= 6 ? 0 : 1}}>\n                    MEET ADLA\n                </div>\n                    <div className=\"rolling medium rolling1\">\n                        Your free personal stylist over Instagram DM \n                    </div>\n                    <br/>\n                    {/* <div className=\"rolling medium rolling1\">\n                        Your free personal stylist\n                    </div>\n                    <br/>\n                    <div className=\"rolling medium rolling2\">\n                        Adla hooks you up with clothes you’ll love. \n                    </div>\n                    <br/>\n                    <div className=\"rolling medium rolling3\">\n                        Chat to Adla over instagram dm or text.                     \n                    </div>\n                    <br/>\n                    <div className=\"rolling medium rolling4\">\n                        Get clothes to try on at home for free.                     \n                    </div>\n                    <br/>\n                    <div className=\"rolling medium rolling5\">\n                        No subscription or any extra strings attached. \n                    </div>\n                    <br/> */}\n                </div>\n                {/*this.props.logged_in ? \"/app/new_request\" :*/}\n                <button onClick={this.nextPage} className=\"btn first-btn\" id=\"lets-do-this\" style={{fontSize: \"22px\"}} >\n                    <div className=\"shine-container\">\n                        <div className=\"shine\"></div></div>\n                    GET CLOTHES!\n                </button>\n            </React.Fragment>\n            ,\n            <div></div>         // this is where the sliding elements are\n            ,\n            <React.Fragment>\n                <div id=\"signup-bar\" className=\"form-container\">\n                    <img className=\"back back_slide\" src={back} onClick={this.prevPage}/>\n                    <div className=\"field-container\">\n                        <div className=\"field-title\">\n                            Name\n                        </div>\n                        <input className=\"text-response\" id=\"name\" value={this.state.name} onChange={this.handleChange} placeholder=\"What can I call you?\"/>\n                    </div>\n                    <div className=\"field-container\">\n                        {\n                            // this.state.contact_method == 'instagram' ?\n                            <>\n                            <div className=\"field-title\">\n                                Instagram\n                            </div>\n\n                            <input className={this.state.invalid_instagram ? \"invalid-input text-response\" : \"text-response\"} id=\"instagram\" value={this.state.instagram} onChange={this.handleChange} placeholder=\"yourusername\"/> \n                            {/* <div className=\"field-caption\" onClick={() => {this.setState({contact_method: 'phone_number'})}}>\n                                Don't use Instagram? Text adla\n                            </div> */}\n                            </>\n                            // :\n                            // <>\n                            // <div className=\"field-title\">\n                            //     Number\n                            // </div>\n                            // <TelephoneInput value={this.state.phone_number} onChange={this.handleNumChange}/>\n                            // <div className=\"field-caption\" onClick={() => {this.setState({contact_method: 'instagram'})}}>\n                            //     Use instagram\n                            // </div>\n                            // </>\n                        }\n                     </div>\n                    <button onClick={this.signUp} \n                        disabled={!signupValid} \n                        style={ signupValid ? null : {opacity : \"0.5\"}}>\n                        Submit\n                    </button>\n                </div>\n            </React.Fragment>\n            ,\n            <React.Fragment>\n                <div className=\"form-container\">\n                    <img className=\"back back_slide\" src={back} onClick={this.prevPage}/>\n                    <div className=\"field-container\">\n                        <div className=\"field-title\">\n                            Gender\n                        </div>\n                        <Dropdown onChange={this.handleOptionChange} id=\"gender\" value={this.state.gender} prompt='Select one' name='gender' options={['Male', 'Female', 'Other']}/>\n                    </div>\n                    <div className=\"field-container\">\n                        <div className=\"field-title\">\n                            City\n                        </div>\n                        <Dropdown onChange={this.handleOptionChange} id=\"location\" value={this.state.location} prompt='Where you at?' name='location' options={['London', 'Other']}/>\n                        {/* 'San Francisco/Bay Area', */}\n                    </div>\n                    <button onClick={() => {this.updateDetails(); this.setState({swipe_ready: true})}} disabled={!(this.state.location && this.state.gender)} style={this.state.location && this.state.gender ? null : {opacity : \"0.5\"}}>\n                        Next\n                    </button>\n                </div>\n            </React.Fragment>\n            ,\n            <React.Fragment>\n                <div className=\"form-container\">\n                    {/* <div className=\"field-container long-field-title\">\n                        <div className=\"field-title \">\n                            What's your instagram username?\n                        </div>\n                        <input className=\"text-response\" id=\"instagram\" value={this.state.instagram} onChange={this.handleChange} placeholder=\"@username\"/>\n                    </div> */}\n                    <div className=\"field-container\">\n                        <div className=\"field-title\">\n                            Do you have a referral code?\n                        </div>\n                        <input className=\"text-response\" id=\"referral\" value={this.state.referral} onChange={this.handleChange} placeholder=\"Got code?\"/>\n                    </div>\n                    <button onClick={this.updateDetails} >\n                        {this.state.referral == '' ? 'Nope' : 'Submit'}\n                    </button>\n                </div>\n            </React.Fragment>\n            ,\n            <React.Fragment>\n                <div className=\"form-container\">\n                    <div className=\"field-container long-field-title\">\n                        <div className=\"field-title \">\n                            How much would you pay for an item you love?\n                        </div>\n                        <Dropdown onChange={this.handleOptionChange} id=\"price_range\" value={this.state.price_range} prompt=\"What's your budget?\" name='price_range' options={[40, 80, 120, 200, 1000]}/>\n                    </div>\n                    <div className=\"field-container long-field-title\">\n                        <div className=\"field-title\">\n                            Where did you hear about Adla? \n                        </div>\n                        <Dropdown onChange={this.handleOptionChange} id=\"acq_channel\" value={this.state.acq_channel} prompt='Let me know!' name='acq_channel' options={['Friend', 'Google', 'Instagram', 'Tinder', 'Other']}/>\n                    </div>\n                    <button onClick={this.updateDetails} disabled={!(this.state.price_range && this.state.acq_channel)} style={this.state.num_is_valid && this.state.name ? null : {opacity : \"0.5\"}}>\n                        Submit\n                    </button>\n                </div>\n            </React.Fragment>\n            ,\n            <React.Fragment>\n                <div className=\"panel\">\n                    <img className=\"back back_slide\" src={back} onClick={this.prevPage}/>\n                    <Swiping gender={this.state.gender} ready={this.state.swipe_ready}/>\n                    {/* <Link to='/app'> */}\n                        <button className=\"btn\" onClick={this.nextPage}>\n                            Move on\n                        </button>\n                    {/* </Link> */}\n                </div>\n            </React.Fragment>            \n            ,\n            <React.Fragment>\n                <div className=\"form-container\">\n                    <img className=\"back back_slide\" src={back} onClick={this.prevPage}/>\n\n                    <NewRequest not_now={this.nextPage} onSubmit={this.nextPage}/>\n                </div>\n            </React.Fragment>            \n            ,\n            <React.Fragment>\n                    <img className=\"back back_slide\" src={back} onClick={this.prevPage}/>\n                    <Style onSubmit={this.nextPage} onSubmit={this.nextPage} \n                    styles={this.props.user.styles ? this.props.user.styles : []}\n                    onChange={(styles) => {\n                        this.props.setUserInfo({styles});\n                    }}\n                    endpoint={'update-my-details'} styles={this.props.user ? this.props.user : []}/>\n                    <button className=\"btn\" onClick={this.nextPage}>Move on</button>\n            </React.Fragment>            \n            ,\n            <React.Fragment>\n                <div className=\"panel\">\n                    <img className=\"back back_slide\" src={back} onClick={this.prevPage}/>\n                    <Sizing gender={this.state.gender} onSubmit={this.nextPage}/>\n                </div>\n            </React.Fragment>            \n        ]\n        if (this.state.slide > slides.length - 1) {\n            return <Redirect to={'/app'} />\n        }\n        var slide_colors = [\n            '#FDF5EA',\n            '#FDF5EA',\n            '#C6E0F5'\n        ]\n        // TRANSLATE THE SLIDES ACROSS AS THE PAGE CHANGES\n        slides = slides.map(\n            (item, idx) => {\n                return (\n                    // <div className=\"slide\" style={{transform: `translateX(-${this.state.slide * (idx)}00vw)`}}>        \n                    <div className=\"slide\" style={{transform: `translateX(-${(100 * this.state.slide)}vw)`, backgroundColor: slide_colors[0]}}>        \n                        {item}\n                    </div>\n                )   \n            }\n        )\n        return slides\n    }\n\n    render() {\n        if (this.state.redirect) {\n            return (\n                <Redirect to={this.state.redirect} />\n            )\n        }\n        return (\n            <div className={`fold`} style={{backgroundColor: '#FDF5EA'}}>\n                <div className=\"slide-container\">\n                    {this.getSlides()}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    console.log('SIGNUP USER:', state.user)\n    return {\n        user: state.user\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setUserInfo: (update) => {\n            makePostRequest('update-my-details', update,\n                () => {\n                    console.log('user updated')\n                }\n            )\n            dispatch({\n                type: \"SET_USER\",\n                update: update\n            })\n        },\n        dispatchLogin: () => {\n            dispatch({\n                type: \"LOG_IN\"\n            })\n        }\n    }\n}\n\nexport default Signup = connect(mapStateToProps, mapDispatchToProps)(Signup)"]},"metadata":{},"sourceType":"module"}