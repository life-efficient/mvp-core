{"ast":null,"code":"var _jsxFileName = \"/home/ice/test/test/src/adminComponents/ServeUsers.js\";\nimport React, { Component } from \"react\";\nimport { makeGetRequest } from \"../api_calls\";\nimport Section from \"../components/Section\";\nimport { connect } from \"react-redux\";\n\nclass ServeUsers extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      makeGetRequest('get-unserved-requests', reqs => {\n        console.log(reqs);\n        console.log(typeof reqs);\n        reqs = reqs.Items;\n        console.log(reqs);\n        reqs = reqs.sort((req1, req2) => {\n          return new Date(req2.timestamp) - new Date(req1.timestamp);\n        });\n        console.log(reqs);\n        reqs = reqs.map(req => {\n          console.log('req:', req);\n          return React.createElement(Section, {\n            to: \"\".concat(this.path, \"/request?sub=\").concat(req.userSub, \"&req_id=\").concat(req.requestID),\n            passthrough: req,\n            title: req.request,\n            caption: req.timestamp,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31\n            },\n            __self: this\n          });\n        });\n        this.setState({\n          unserved_requests: reqs\n        });\n      });\n    };\n\n    this.path = this.props.match.path;\n    this.state = {\n      unserved_requests: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Unserved Requests\"), this.state.unserved_requests);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    unserved_requests: state.requests\n  };\n};\n\nexport default ServeUsers = connect(mapStateToProps)(ServeUsers);","map":{"version":3,"sources":["/home/ice/test/test/src/adminComponents/ServeUsers.js"],"names":["React","Component","makeGetRequest","Section","connect","ServeUsers","constructor","props","componentDidMount","reqs","console","log","Items","sort","req1","req2","Date","timestamp","map","req","path","userSub","requestID","request","setState","unserved_requests","match","state","render","mapStateToProps","requests"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,cAAT,QAA+B,cAA/B;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAEA,MAAMC,UAAN,SAAyBJ,SAAzB,CAAmC;AAC/BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAQnBC,iBARmB,GAQC,MAAM;AACtBN,MAAAA,cAAc,CAAC,uBAAD,EACTO,IAAD,IAAU;AACNC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAOF,IAAnB;AACAA,QAAAA,IAAI,GAAGA,IAAI,CAACG,KAAZ;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAA,QAAAA,IAAI,GAAGA,IAAI,CAACI,IAAL,CACH,CAACC,IAAD,EAAOC,IAAP,KAAgB;AACZ,iBAAO,IAAIC,IAAJ,CAASD,IAAI,CAACE,SAAd,IAA2B,IAAID,IAAJ,CAASF,IAAI,CAACG,SAAd,CAAlC;AACH,SAHE,CAAP;AAKAP,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAA,QAAAA,IAAI,GAAGA,IAAI,CAACS,GAAL,CACFC,GAAD,IAAS;AACLT,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBQ,GAApB;AACA,iBAAO,oBAAC,OAAD;AAAS,YAAA,EAAE,YAAK,KAAKC,IAAV,0BAA8BD,GAAG,CAACE,OAAlC,qBAAoDF,GAAG,CAACG,SAAxD,CAAX;AAAgF,YAAA,WAAW,EAAEH,GAA7F;AAAkG,YAAA,KAAK,EAAEA,GAAG,CAACI,OAA7G;AAAsH,YAAA,OAAO,EAAEJ,GAAG,CAACF,SAAnI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,SAJE,CAAP;AAMA,aAAKO,QAAL,CAAc;AAACC,UAAAA,iBAAiB,EAAEhB;AAApB,SAAd;AACH,OAnBS,CAAd;AAqBH,KA9BkB;;AAEf,SAAKW,IAAL,GAAY,KAAKb,KAAL,CAAWmB,KAAX,CAAiBN,IAA7B;AACA,SAAKO,KAAL,GAAa;AACTF,MAAAA,iBAAiB,EAAE;AADV,KAAb;AAGH;;AA0BDG,EAAAA,MAAM,GAAI;AACN,WACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,EAIK,KAAKD,KAAL,CAAWF,iBAJhB,CADJ;AASH;;AA3C8B;;AA8CnC,MAAMI,eAAe,GAAIF,KAAD,IAAU;AAC9B,SAAO;AACHF,IAAAA,iBAAiB,EAAEE,KAAK,CAACG;AADtB,GAAP;AAGH,CAJD;;AAMA,eAAezB,UAAU,GAAGD,OAAO,CAACyB,eAAD,CAAP,CAAyBxB,UAAzB,CAA5B","sourcesContent":["import React, { Component } from \"react\"\nimport { makeGetRequest } from \"../api_calls\"\nimport Section from \"../components/Section\"\nimport { connect } from \"react-redux\"\n\nclass ServeUsers extends Component {\n    constructor(props) {\n        super(props)\n        this.path = this.props.match.path\n        this.state = {\n            unserved_requests: []\n        }\n    }\n\n    componentDidMount = () => {\n        makeGetRequest('get-unserved-requests',\n            (reqs) => {\n                console.log(reqs)\n                console.log(typeof(reqs))\n                reqs = reqs.Items\n                console.log(reqs)\n                reqs = reqs.sort(\n                    (req1, req2) => {\n                        return new Date(req2.timestamp) - new Date(req1.timestamp)\n                    }\n                )\n                console.log(reqs)\n                reqs = reqs.map(\n                    (req) => {\n                        console.log('req:', req)\n                        return <Section to={`${this.path}/request?sub=${req.userSub}&req_id=${req.requestID}`} passthrough={req} title={req.request} caption={req.timestamp}/>\n                    }\n                )\n                this.setState({unserved_requests: reqs})\n            }\n        )\n    }\n\n    render () {\n        return (\n            <div className=\"body\">\n                <div className=\"medium\">\n                    Unserved Requests \n                </div>\n                {this.state.unserved_requests}\n            </div>\n            \n        )\n    }\n}\n\nconst mapStateToProps = (state) =>{\n    return {\n        unserved_requests: state.requests\n    }\n}\n\nexport default ServeUsers = connect(mapStateToProps)(ServeUsers)"]},"metadata":{},"sourceType":"module"}