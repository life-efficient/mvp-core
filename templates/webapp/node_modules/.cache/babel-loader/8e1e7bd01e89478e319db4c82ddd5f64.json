{"ast":null,"code":"var _jsxFileName = \"/home/ice/test/test/src/stylistComponents/Jobs.js\";\nimport React, { Component } from \"react\";\nimport { makeGetRequest } from \"../api_calls\";\nimport Section from \"../components/Section\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport Navbar from \"./Navbar.js\";\nimport \"./Job.css\";\nimport Loading from \"../general/Loading\";\n\nclass Jobs extends Component {\n  constructor(props) {\n    super(props); // this.path = this.props.match.path\n\n    this.componentDidMount = () => {\n      console.log('getting jobs');\n      makeGetRequest('stylist-jobs', jobs => {\n        jobs = jobs.body;\n        console.log('CLIENTS:', this.state.jobs);\n        var jobs = jobs.sort((user1, user2) => {\n          if (user1.last_served == null) {\n            return true;\n          }\n\n          if (user2.last_served == null) {\n            return false;\n          }\n\n          return new Date(user2.joined) - new Date(user1.joined);\n        }); // console.log(users)\n\n        jobs = jobs.map((job, idx) => {\n          console.log('user:', job);\n          return React.createElement(Job, {\n            search: \"sub=\".concat(job.user_sub),\n            user: job,\n            assigned: 'yo',\n            idx: idx,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          });\n        });\n        console.log('JOBS:', jobs);\n        this.setState({\n          jobs\n        });\n      });\n    };\n\n    this.state = {\n      jobs: null\n    };\n    var job_prompts = ['Save these users from fashion a crisis. Please!', 'More recommendations = more love', 'Users need your powers', 'Work hard, Adla harder', 'You can do it!'];\n    this.prompt = job_prompts[Math.floor(Math.random() * job_prompts.length)];\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Navbar, {\n      back: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"body\",\n      style: {\n        backgroundColor: '#EA653C'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, this.prompt), this.state.jobs ? this.state.jobs : React.createElement(\"div\", {\n      style: {\n        backgroundColor: 'var(--primary)',\n        padding: '10px',\n        width: '40px',\n        borderRadius: '3px',\n        margin: 'auto',\n        marginTop: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nclass Job extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.takeJob = () => {\n      console.log('taking job');\n    };\n\n    this.cancelJob = () => {\n      console.log('canceling job');\n    };\n\n    this.getActions = () => {\n      //console.log(this.props.clients.includes(this.props.user.user_sub))\n      return React.createElement(Link, {\n        to: {\n          pathname: \"/9j3d7w31-lfvl-98je-wewf-p1sbdhjcs636/stylist/user\",\n          search: \"?sub=\".concat(this.props.user.user_sub),\n          state: this.props.user\n        },\n        search: this.props.search,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"job-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Take job\"));\n    };\n  }\n\n  render() {\n    console.log('USER JOB:', this.props.user);\n    return React.createElement(\"div\", {\n      className: \"section\",\n      style: {\n        animationDelay: \"\".concat(0.1 * this.props.idx, \"s\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"section-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.props.user.name), React.createElement(\"div\", {\n      className: \"section-caption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, this.props.user.requests ? this.props.user.requests[this.props.user.requests.length - 1].request : null), React.createElement(\"div\", {\n      className: \"tags\",\n      style: {\n        justifyContent: 'left'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, this.props.user.styles ? this.props.user.styles.map(style => {\n      return React.createElement(\"div\", {\n        className: \"tag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, style);\n    }) : null)), this.getActions());\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    clients: state.clients\n  };\n};\n\nJob = connect(mapStateToProps)(Job);\nexport default Jobs;","map":{"version":3,"sources":["/home/ice/test/test/src/stylistComponents/Jobs.js"],"names":["React","Component","makeGetRequest","Section","connect","withRouter","Link","Navbar","Loading","Jobs","constructor","props","componentDidMount","console","log","jobs","body","state","sort","user1","user2","last_served","Date","joined","map","job","idx","user_sub","setState","job_prompts","prompt","Math","floor","random","length","render","backgroundColor","padding","width","borderRadius","margin","marginTop","Job","takeJob","cancelJob","getActions","pathname","search","user","animationDelay","name","requests","request","justifyContent","styles","style","mapStateToProps","clients"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport { makeGetRequest } from \"../api_calls\"\nimport Section from \"../components/Section\"\nimport { connect } from \"react-redux\"\nimport { withRouter, Link } from \"react-router-dom\"\nimport Navbar from \"./Navbar.js\"\nimport \"./Job.css\"\nimport Loading from \"../general/Loading\"\n\nclass Jobs extends Component {\n    constructor(props) {\n        super(props)\n        // this.path = this.props.match.path\n        this.state = {\n            jobs: null\n        }\n        var job_prompts = [\n            'Save these users from fashion a crisis. Please!',\n            'More recommendations = more love',\n            'Users need your powers',\n            'Work hard, Adla harder',\n            'You can do it!'\n        ]\n        this.prompt = job_prompts[Math.floor(Math.random() * job_prompts.length)]\n    }\n\n    componentDidMount = () => {\n        console.log('getting jobs')\n        makeGetRequest('stylist-jobs',\n            (jobs) => {\n                jobs = jobs.body\n                console.log('CLIENTS:', this.state.jobs)\n                var jobs = jobs.sort(\n                    (user1, user2) => {\n                        if (user1.last_served == null) {\n                            return true\n                        }\n                        if (user2.last_served == null) {\n                            return false\n                        }\n                        return new Date(user2.joined) - new Date(user1.joined)\n                    }\n                )\n                // console.log(users)\n                jobs = jobs.map(\n                    (job, idx) => {\n                        console.log('user:', job)\n                        return <Job search={`sub=${job.user_sub}`} user={job} assigned={'yo'} idx={idx}/>\n                    }\n                )\n                console.log('JOBS:', jobs)\n                this.setState({jobs})\n            }\n        )\n    }\n\n    render () {\n        return (\n            <>\n                <Navbar back={true}/>\n                <div className=\"body\" style={{backgroundColor: '#EA653C'}}>\n                    <div className=\"medium\">\n                        {this.prompt}\n                    </div>\n                    {/* <Section to=\"/9j3d7w31-lfvl-98je-wewf-p1sbdhjcs636/stylist/user?sub=6f24e417-1523-49b0-90d1-9426499002a0\" /> */}\n                {\n                    this.state.jobs ?\n                    this.state.jobs\n                    :\n                    <div style={{backgroundColor: 'var(--primary)', padding: '10px', width: '40px', borderRadius: '3px', margin: 'auto', marginTop: '10px'}} >\n                       <Loading />\n                    </div>\n                }\n                </div>\n            </>\n        )\n    }\n}\n\nclass Job extends Component {\n\n    takeJob = () => {\n        console.log('taking job')\n    }\n\n    cancelJob = () => {\n        console.log('canceling job')\n    }\n\n    getActions = () => {\n        //console.log(this.props.clients.includes(this.props.user.user_sub))\n       \n            return (\n                <Link to={{pathname: `/9j3d7w31-lfvl-98je-wewf-p1sbdhjcs636/stylist/user`, search: `?sub=${this.props.user.user_sub}`, state: this.props.user}} search={this.props.search} >\n                    <button className=\"job-btn\">\n                        Take job\n                    </button>\n                </Link>\n            )\n    }\n\n    render() {\n        console.log('USER JOB:', this.props.user)\n        return (\n            <div className=\"section\" style={{animationDelay: `${0.1*this.props.idx}s`}}>\n                <div>\n                    <div className=\"section-title\">{this.props.user.name}</div>\n                    <div className=\"section-caption\">{this.props.user.requests ? this.props.user.requests[this.props.user.requests.length - 1].request : null}</div>\n                    <div className=\"tags\" style={{justifyContent: 'left'}}>{this.props.user.styles ? this.props.user.styles.map((style) => {return <div className=\"tag\">{style}</div>}) : null}</div>\n                </div>\n                {this.getActions()}\n            </div>\n        )\n    }\n}\n  \nconst mapStateToProps = (state) => {\n    return {\n        clients: state.clients\n    }\n}\n\nJob = connect(mapStateToProps)(Job)\n\nexport default Jobs"]},"metadata":{},"sourceType":"module"}