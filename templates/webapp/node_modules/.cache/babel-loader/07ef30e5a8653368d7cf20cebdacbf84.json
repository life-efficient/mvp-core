{"ast":null,"code":"var _jsxFileName = \"/home/ice/test/test/src/general/Searchbar.js\";\nimport React, { Component } from \"react\";\nimport \"./Searchbar.css\";\nimport searchIcon from \"../images/icons/search.png\";\nimport Loading from \"./Loading\";\nimport { makePostRequest } from \"../api_calls\";\nimport User from \"../adminComponents/User\";\n\nclass Searchbar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        search: e.target.value\n      }, () => {\n        console.log(this.state);\n      });\n    };\n\n    this.search = () => {\n      this.setState({\n        loading: true\n      });\n      makePostRequest(this.props.endpoint, this.state, response => {\n        response = response.json().then(results => {\n          console.log(results); // results = results.body\n          // console.log(results)\n          // results = JSON.parse(results)\n\n          console.log('search results:', results);\n\n          if (this.props.filter) {\n            results = results.filter(this.props.filter);\n          }\n\n          this.setState({\n            results,\n            loading: false\n          }, () => console.log('searchbar state:', this.state));\n        }).catch(() => this.setState({\n          loading: false\n        }));\n      });\n    };\n\n    this.state = {\n      search: '',\n      results: null,\n      map: item => {\n        return item;\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"searchbar-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"searchbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      value: this.state.search,\n      onChange: this.handleChange,\n      placeholder: this.props.prompt,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, this.state.loading ? React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: searchIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"results potential-recs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, this.state.results ? this.state.results.length > 0 ? this.state.results.map(this.props.map) : React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        fontFamily: 'var(--font1)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"No results found :(\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), \"Cmon I only built this today\") : null)));\n  }\n\n}\n\nexport default Searchbar;","map":{"version":3,"sources":["/home/ice/test/test/src/general/Searchbar.js"],"names":["React","Component","searchIcon","Loading","makePostRequest","User","Searchbar","constructor","props","handleChange","e","setState","search","target","value","console","log","state","loading","endpoint","response","json","then","results","filter","catch","map","item","render","prompt","length","width","fontFamily"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport \"./Searchbar.css\"\nimport searchIcon from \"../images/icons/search.png\"\nimport Loading from \"./Loading\";\nimport { makePostRequest } from \"../api_calls\"\nimport User from \"../adminComponents/User\"\n\nclass Searchbar extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            search: '',\n            results: null,\n            map: (item) => {return item}\n        }\n    }\n\n    handleChange = (e) => {\n        this.setState({search: e.target.value},\n            () => {\n                console.log(this.state)\n            }    \n        )\n    }\n\n    search = () => {\n        this.setState({loading: true})\n        makePostRequest(this.props.endpoint, this.state,\n            (response) => {\n                response = response.json()\n                .then(\n                    (results) => {\n                        console.log(results)\n                        // results = results.body\n                        // console.log(results)\n                        // results = JSON.parse(results)\n                        console.log('search results:', results)\n                        if (this.props.filter) {\n                            results = results.filter(\n                                this.props.filter\n                            )\n                        }\n                        \n                        this.setState({results, loading: false},\n                            () => console.log('searchbar state:', this.state)\n                        )\n                    }\n                )\n                .catch(\n                    () => this.setState({loading: false})\n                )\n            }\n        )\n    }\n\n    render() {\n        return (\n            <>\n            <div className=\"searchbar-container\">\n                <div className=\"searchbar\">\n                    <input value={this.state.search} onChange={this.handleChange} placeholder={this.props.prompt}/>\n                    <button onClick={this.search}>\n                        {\n                            this.state.loading ?\n                            <Loading />\n                            :\n                            <img src={searchIcon} />\n                        }\n                        \n                    </button>\n                </div>\n                <div className=\"results potential-recs\">\n                    {\n                        this.state.results ?\n                            this.state.results.length > 0 ? \n                            this.state.results.map(\n                                this.props.map\n                            )\n                            :\n                            <div style={{width: '100%', fontFamily: 'var(--font1)'}} >\n                                No results found :(\n                                <br/>\n                                Cmon I only built this today\n                            </div>\n                            \n                        :\n                        null\n                    }\n                </div>\n            </div>\n            </>\n        )\n    }\n}\n\nexport default Searchbar"]},"metadata":{},"sourceType":"module"}