{"ast":null,"code":"var _jsxFileName = \"/home/ice/test/test/src/adminComponents/Messages.js\";\nimport React, { Component } from \"react\";\nimport { makeGetRequest } from \"../api_calls\";\nimport Section from \"../components/Section\";\nimport { connect } from \"react-redux\";\n\nclass Messages extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      makeGetRequest('admin-get-messages', messages => {\n        console.log(messages);\n        messages = messages.body;\n        messages = JSON.parse(messages);\n        console.log(messages);\n        messages = messages.Items;\n        messages = messages.sort((msg1, msg2) => {\n          return new Date(msg2.time) - new Date(msg1.time);\n        });\n        console.log(messages);\n        messages = messages.map(msg => {\n          console.log('msg:', msg);\n          return React.createElement(Section, {\n            to: \"/5015db37-0d03-4f44-93a5-606ac215935b/admin/messaging?user_id=\".concat(msg.user_id),\n            passthrough: msg,\n            title: msg.time,\n            caption: msg.joined,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 32\n            },\n            __self: this\n          });\n        });\n        this.setState({\n          messages: messages\n        });\n      });\n    };\n\n    this.path = this.props.match.path;\n    this.state = {\n      messages: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"All Messages\"), this.state.messages);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    messages: state.messages\n  };\n};\n\nexport default Messages;","map":{"version":3,"sources":["/home/ice/test/test/src/adminComponents/Messages.js"],"names":["React","Component","makeGetRequest","Section","connect","Messages","constructor","props","componentDidMount","messages","console","log","body","JSON","parse","Items","sort","msg1","msg2","Date","time","map","msg","user_id","joined","setState","path","match","state","render","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,cAAT,QAA+B,cAA/B;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAEA,MAAMC,QAAN,SAAuBJ,SAAvB,CAAiC;AAC7BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAQnBC,iBARmB,GAQC,MAAM;AACtBN,MAAAA,cAAc,CAAC,oBAAD,EACTO,QAAD,IAAc;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAA,QAAAA,QAAQ,GAAGA,QAAQ,CAACG,IAApB;AACAH,QAAAA,QAAQ,GAAGI,IAAI,CAACC,KAAL,CAAWL,QAAX,CAAX;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAA,QAAAA,QAAQ,GAAGA,QAAQ,CAACM,KAApB;AACAN,QAAAA,QAAQ,GAAGA,QAAQ,CAACO,IAAT,CACP,CAACC,IAAD,EAAOC,IAAP,KAAgB;AACZ,iBAAO,IAAIC,IAAJ,CAASD,IAAI,CAACE,IAAd,IAAsB,IAAID,IAAJ,CAASF,IAAI,CAACG,IAAd,CAA7B;AACH,SAHM,CAAX;AAKAV,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAA,QAAAA,QAAQ,GAAGA,QAAQ,CAACY,GAAT,CACNC,GAAD,IAAS;AACLZ,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBW,GAApB;AACA,iBAAO,oBAAC,OAAD;AAAS,YAAA,EAAE,0EAAmEA,GAAG,CAACC,OAAvE,CAAX;AAA6F,YAAA,WAAW,EAAED,GAA1G;AAA+G,YAAA,KAAK,EAAEA,GAAG,CAACF,IAA1H;AAAgI,YAAA,OAAO,EAAEE,GAAG,CAACE,MAA7I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,SAJM,CAAX;AAMA,aAAKC,QAAL,CAAc;AAAChB,UAAAA,QAAQ,EAAEA;AAAX,SAAd;AACH,OApBS,CAAd;AAsBH,KA/BkB;;AAEf,SAAKiB,IAAL,GAAY,KAAKnB,KAAL,CAAWoB,KAAX,CAAiBD,IAA7B;AACA,SAAKE,KAAL,GAAa;AACTnB,MAAAA,QAAQ,EAAE;AADD,KAAb;AAGH;;AA2BDoB,EAAAA,MAAM,GAAI;AACN,WACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAIK,KAAKD,KAAL,CAAWnB,QAJhB,CADJ;AASH;;AA5C4B;;AA+CjC,MAAMqB,eAAe,GAAIF,KAAD,IAAU;AAC9B,SAAO;AACHnB,IAAAA,QAAQ,EAAEmB,KAAK,CAACnB;AADb,GAAP;AAGH,CAJD;;AAMA,eAAeJ,QAAf","sourcesContent":["import React, { Component } from \"react\"\nimport { makeGetRequest } from \"../api_calls\"\nimport Section from \"../components/Section\"\nimport { connect } from \"react-redux\"\n\nclass Messages extends Component {\n    constructor(props) {\n        super(props)\n        this.path = this.props.match.path\n        this.state = {\n            messages: []\n        }\n    }\n\n    componentDidMount = () => {\n        makeGetRequest('admin-get-messages',\n            (messages) => {\n                console.log(messages)\n                messages = messages.body\n                messages = JSON.parse(messages)\n                console.log(messages)\n                messages = messages.Items\n                messages = messages.sort(\n                    (msg1, msg2) => {\n                        return new Date(msg2.time) - new Date(msg1.time)\n                    }\n                )\n                console.log(messages)\n                messages = messages.map(\n                    (msg) => {\n                        console.log('msg:', msg)\n                        return <Section to={`/5015db37-0d03-4f44-93a5-606ac215935b/admin/messaging?user_id=${msg.user_id}`} passthrough={msg} title={msg.time} caption={msg.joined}/>\n                    }\n                )\n                this.setState({messages: messages})\n            }\n        )\n    }\n\n    render () {\n        return (\n            <div className=\"body\">\n                <div className=\"medium\">\n                    All Messages\n                </div>\n                {this.state.messages}\n            </div>\n            \n        )\n    }\n}\n\nconst mapStateToProps = (state) =>{\n    return {\n        messages: state.messages\n    }\n}\n\nexport default Messages "]},"metadata":{},"sourceType":"module"}